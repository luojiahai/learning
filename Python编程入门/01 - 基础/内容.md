# 【Python编程入门】第1章：基础

## 表达式/Expression

表达式（Expression）是由操作数（Operand）和操作符（Operator）组合而成，二元表达式（Binary Expression）的模式是`<操作数> <操作符> <操作数>`，就是一个二元操作符（Binary Operator）作用于两个操作数。另外还有一元表达式（Unary Expression），它的模式是`<操作符> <操作数>`。

操作数可以是常量（Constant），常量就是不变化的量，可以是一个整数（Integer）或者浮点数（Float），譬如整数有`1`、`22`、`33`，浮点数有`22.33`等。操作符有加`+`、减`-`、乘`*`、除`/`、次方`**`等数学操作符（Numeric Operator），这些都属于二元操作符，可以应用在二元表达式上。其中`-`操作符也同时属于一元操作符（Unary Operator），可以应用在一元表达式上，譬如`-2`。更多的操作数和操作符会在之后文章出现及讲述。

根据二元表达式的模式，举个例子：表达式`1 + 1`，在加号`+`操作符左右的都是操作数，这两个操作数都属于常量，它们的数据类型都是整数。操作数也可以是一个表达式，操作数有递归（Recursion）性质，也就是`套娃`，举个例子：表达式`1 + (2 + 3)`，第一个加号的左右都是操作数，这个加号的左边是一个常量`1`，而右边是另外一个表达式`(2 + 3)`。那么了解了这个规律，我们可以组合更复杂的表达式，譬如：表达式`1 + (2 + 3) / (22 * 33)`。

表达式被执行后会返回运算的结果，运算会根据数学运算的优先级，譬如优先运算括号内的表达式，熟悉表达式的小伙伴就可以把Python交互式命令行来当作计算器使用。把表达式输入到交互式命令行并执行后，可获得由Python计算出的结果。例子如下：

```python
>>> 1 + 1
2
```
```python
>>> 1 + (2 + 3)
6
```
```python
>>> 1 + (2 + 3) / (22 * 33)
1.0068870523415978
```
```python
>>> 2 ** 3  # 2的3次方
8
```

---

## 赋值/Assignment

变量（Variable）是一种操作数，变量就是会变化的量，通常使用标识符（Identifier）来储存，给变量取的名字叫变量名（Variable Name），同时也叫标识符。变量名可以用户自定义，变量取名最好选择有意义的单词或短语。如果我想让一个变量储存体重信息，那么我会给这个变量取名`weight`，英文词汇量不足的小伙伴可使用`tizhong`或者`ti_zhong`，或者直接使用中文作为变量名（不推荐）。

标识符需遵循以下规则：
- 字母，数字，下划线
- 不能以数字开头
- 不能是保留字
- 严格区分大小写

Python中有许多已被定义的标识符也就是保留字（Reserved Word），譬如`for`、`while`、`if`等。当我们给变量取名时需要避免跟Python的保留字冲突，不过也不用过于担心，如果冲突了，运行代码时就会报错。查看保留字列表的方法如下：

```python
>>> import keyword
>>> print(keyword.kwlist)
```

定义一个变量时，我们需要对其进行赋值（Assignment），也叫初始化（Initialisation）。给一个变量赋值需要执行赋值语句（Assignment Statement），赋值语句的模式是`<变量名> = <表达式>`，`=`是赋值操作符（Assignment Operator），赋值语句是把右边的值赋予到左边的变量名里，右边的值可以是任何的表达式，包括常量、变量。例子如下：

```python
>>> weight = 100
>>> print(weight)
100
```
```python
>>> height = weight + 50
>>> print(height)
150
```
```python
>>> 体重 = 100
>>> print(体重)
100
```

变量是可以变化的，当我们对同一个变量名执行不同值的赋值语句时，这个变量的值就会被改变。把变量看成一个盒子，盒子上印着变量名。如果我执行一个赋值语句`weight = 100`，那么`100`这个值会放进这个盒子里。如果我再执行另一个赋值语句`weight = 200`，那么原先`100`的值会从盒子拿出来被销毁掉，然后把新的值`200`放进这个盒子里。赋值过程是不可逆的，里面的值如果被别的值代替，就不能再找回之前赋予过的值。例子如下：

```python
>>> weight = 100
>>> print(weight)
100
```
```python
>>> weight = 200
>>> print(weight)
200
```

---

## 语句/Statement

语句（Statement）是一行完整的、符合语法的代码。语句都是有作用、有功能的，赋值语句就是一种语句，它的功能是给变量赋值。更多的语句会在之后文章讲述。

语句是一行有作用的、可执行的代码，然而表达式是可执行但无作用的，表达式只能返回一个结果。在交互式命令行执行一行表达式时，命令行会直接输出此表达式的计算结果，例子如下：

```python
>>> 1 + (2 + 3)
6
```

然而，在执行脚本文件的代码时，如果脚本文件内有一行表达式，它被执行后就不会输出任何计算结果，除非用赋值语句定义一个变量把它储存起来，然后用`print`函数打印出来。交互式命令行只是方便我们的学习和调试，将来我们写程序都会使用`.py`的脚本文件，由Python解释器对其逐行执行。

---

## 字符串/String

字符串（String）是一种数据类型，由多个字符（Character）组成，用英文的双引号`"`或单引号`'`包括起来。Python支持中文字符，所以我们在上一章可以打印出`你好，世界！`这个字符串。例子如下：

```python
>>> sentence = '你好，哔哩哔哩！'
>>> print(sentence)
你好，哔哩哔哩！
```

特定的操作符运用在字符串上会有特定的功能，譬如`+`、`*`。`+`的功能是字符串串联（String Concatenation），`*`的功能是字符串复制（String Replication）。例子如下：

```python
>>> 'ha' + 'ha'
'haha'
```
```python
>>> 'ha' * 3
'hahaha'
```

---

## 数据类型/Data Type

Python有五大数据类型（Data Type），我们目前接触到的有字符串（String）、整数（Integer）、浮点数（Float），另外两个是列表（List）和字典（Dictionary），会在之后的课程讲述。判断一个常量或变量的数据类型很重要，在表达式内应用操作符时，要确保操作数的数据类型可以被此操作符应用，譬如`+`操作符不能应用在一个整数和一个字符串，例子如下：

```python
>>> 1 + "hello"
Traceback (most recent call last):
  File "<pyshell#0>", line 1, in <module>
    1 + "hello"
TypeError: unsupported operand type(s) for +: 'int' and 'str'
```

判断一个常量或变量是什么类型可以使用`type`函数。例子如下：

```python
>>> type('Hello, Bilibili!')
<class 'str'>
```
```python
>>> type(2233)
<class 'int'>
```
```python
>>> type(22.33)
<class 'float'>
```
```python
>>> name = 'haha'
>>> type(name)
<class 'str'>
```

进阶：当你的代码量大的时候，对于变量类型的确定性非常重要。当你初始化一个变量之后，你可以对它进行值的改变，虽然也可以改变它的类型，但是不建议这么做，有概率出现难以调试的错误。如果想为了更严谨，初始化变量时，你可以选择性地明确指定它们的类型，如果不明确指定，Python解释器会根据赋予的值进行判断并自动指定。给变量明确定义类型只需要在变量名之后赋值操作符之前添加`: <类型>`，例子如下：

```python
>>> sentence: str = 'Hello, Bilibili!'
>>> type(sentence)
<class 'str'>
```

---

## 技术总结

- 表达式（Expression）的模式：`<操作数> <操作符> <操作数>`
- 数学操作符（Numeric Operator）：加（`+`） 减（`-`） 乘（`*`） 除（`/`） 次方（`**`）
- 赋值操作符（Assignment Operator）：`=`
- 赋值语句（Assignment Statement）的模式：`<变量名> = <表达式>`
- 变量（Variable）取名最好选择有意义的单词或短语。
- 语句（Statement）是一行可执行的且有作用的代码，而表达式也是可执行的但无作用的，如：语句可以赋值，表达式不可以，表达式只能返回一个结果。表达式在脚本文件里被执行是不会输出计算结果的。
- 字符串（String）是由多个字符（Character）组成的一种常量，支持中文字符。
- 数据类型（Type）有整数（Integer）、浮点数（Float）、字符串（String），在Python里分别表示为`int`、`float`、`str`。

---